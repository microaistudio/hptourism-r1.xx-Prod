DDT&G - Him Access Integration (Government Officials)

Government of Himachal Pradesh\
Him Access (Government Interface) -- Integration KIT

DDT&G - Him Access Integration (Government Officials)

Contents\
1.1 Integrating using I -frame ................................
................................ ................................
................................ .. 4 1.1.1 End Points and Environments
................................ ................................
................................ ........................ 4 1.1.2 Status
Codes ................................ ................................
................................ ................................
........................... 4 1.1.3 Process Involved
................................ ................................
................................ ................................
................... 5 1.1.4 Data Received on succe ssful integration on
Using Iframe: - ................................
.............................. 5 1.1.5 When user login using parichay on
the Integrated Iframe ................................
................................ . 6 1.1.6 Call to getUserDetails to
access user details: ................................
................................ ............................ 7 1.2
Master API ................................
................................ ................................
................................ ............................... 9 1.2.1
Department Master ................................
................................ ................................
................................ ............. 9 1.2.2 Designation
Master ................................ ................................
................................ ................................
........... 10 1.2.3 Designation Level/Class Master
................................ ................................
................................ .................. 11 1.2.4 Office Type
Master ................................ ................................
................................ ................................
............ 12 1.2.5 Office Master ................................
................................ ................................
................................ ....................... 13 1.2.6
Service Status Master ................................
................................ ................................
................................ ...... 15 1.2.7 Role Master
................................ ................................
................................ ................................
.......................... 16 1.2.8 LGD District Master
................................ ................................
................................ ................................
.......... 17 1.2.9 LGD Block Master ................................
................................ ................................
................................ .............. 18 1.2.10 LGD Panchayat
Master ................................ ................................
................................ ............................... 19
1.2.11 LGD Village Maste r ................................
................................ ................................
................................ ....... 21 1.2.12 LGD Municipal Master
................................ ................................
................................ ................................ 22
1.2.13 LGD Ward Master ................................
................................ ................................
................................ ......... 23 1.2.14 Revenue District
Master ................................ ................................
................................ ............................ 25 1.2.15
Revenue Tehsi l Master ................................
................................ ................................
............................... 26 1.2.16 Revenue Patwar Master
................................ ................................
................................ ............................. 28 1.2.17
Revenue Village Master ................................
................................ ................................
.............................. 30 1.3 Encryption / Decryption Algorithm
................................ ................................
................................ .......... 32 1.3.1 Java Sample
................................ ................................
................................ ................................
.......................... 32 1.3.2 .NET Sample
................................ ................................
................................ ................................
......................... 34 1.3.3 PHP Sample
................................ ................................
................................ ................................
.......................... 36

DDT&G - Him Access Integration (Government Officials)

Document Control Information

Document Information\
Document Name Integration Kit\
Project Name Him Access\
Client Department of Information Technology, Government of Himachal
Pradesh\
Document Version 2.0 Document Status Final\
Date Released 11 November 2024\
File Name Him Access Integration KIT

DDT&G - Him Access Integration (Government Officials)

1.1 Integrating using I -frame\
1.1.1 End Points and Environments\
\# Environment Type URL\
1. Production Will be shared after successful integration in\
Pre-Production Environment\
2. Pre-Production Will be shared after prior approval from concerned
Authority

1.1.2 Status Codes\
\# Status Codes Message\
1. 200 Success\
2. 401 Method Not Allowed\
3. 403 Unauthorized\
3. 404 Not Found

DDT&G - Him Access Integration (Government Officials)

1.1.3 Process Involved\
Departments seeking to integrate with the Him Access using the I frame
method should follow these steps for effective implementation:

Script Integration: Start by embedding a specific script into the
website's header. This is accomplished by inserting the following script
tag (The access to the Pre -Production and production will be granted
after getting the necessary approvals:\
`<iframe 
src="https:// preproduction_url /GovLogin?service_id=YOUR_SERVICE_ID&app_unique= YOUR_AP
P_UNIQUE_CODE ">`{=html}`</iframe>`{=html}

The " service_id " and "application_unique\_ code" is a unique
identifier for the department's service within the Him Access system.\
1.1.4 Data Received on successful integration on Using Iframe: -\
When the Iframe is integrated on the external Service and the user logs
in using the username and password of that specific External
Application. Below is the response received in form Data on success:

Script\
Integration

Add HTML\
Elements

Add Iframe\
Button

DDT&G - Him Access Integration (Government Officials)

# Key Name Value

1.  id Integer\
2.  token String\
3.  user_id String
4.  role_id Integer (Optional)\
5.  service_id Integer
6.  department_unique_code String
7.  department_name String (Optional)\
8.  dept_id Integer
9.  userid String

1.1.5 When user login using parichay on the Integrated I frame\
\# Key Name Value\
1. token String\
2. user_id String 3. role_id Integer (Optional)\
4. role_name String (Optional)\
5. service_id Integer 6. pmis_id Integer (Optional)\
7. department_unique_code String 8. department_name String (Optional)\
9. dept_mid String (Optional)\
10. dept_id String ( Optional)

DDT&G - Him Access Integration (Government Officials)

1.1.6 Call to getUserDetails to access user details : To receive user
information, the following GET request is made on the specified URL:

# Method URL

1.  GET https://preproduction_url/ application/getUserDetails

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Data Type

1.  Y token String\
2.  Y serviceId Long

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"} 3. 404 {"error":" Invalid user
details "}

After decryption user details will look like this:

{ "timestamp": "05 -08-2024 03:34:51",\
"status": "OK",

DDT&G - Him Access Integration (Government Officials)

"message": "SUCCESS",\
"data": " \[{\"empId \":1111, \"employeeName \":\"User Name
\",\"applicationId \":1,\"applicationName \":\"Himaccess \",\"serviceId
\":116, \"serviceName \":\"Himaccess Service \",\"emailId
\":\"xxxxxx@himaccess.hp.gov.in \",\"orgId \":1,\"orgName
\":\"Government of Himachal Pradesh \",\"departmentId
\":1,\"departmentName \":\"Department of Digital Technologies and
Governance (DDT&G) \",\"desigId \":1,\"desigName \":\"Assistant
Programmer \",\"officeTypeId \":1,\"officeTypeName \":\"Level
1\",\"officeId \":1,\"officeName \":\"Directorate \",\"roleId
\":3,\"roleName \":DDO ,\"pmisCode \":n ull,\"salaryCode
\":\"\",\"additionalChargeDetailDTO \":\[{\"departmentId
\":1,\"departmentName\
":\"Department of Digital Technologies and Governance (DDT&G)
\",\"desigId \":2,\"desigName \":\"Junior Office Assistant IT
\",\"officeTypeId \":1,\"officeTypeName \":\"Level 1\",\"officeId
\":1,\"officeName \":\"Directorate \",\"chargeAssignedOn \":\"2024
-11-11 13:09:54 \",\"chargeType \":\"Additional Charge
\"}\],\"ddoOfficeDetails \":\[{\"officeTypeId \":1,\"officeTypeName
\":\"Level 1\",\"officeId \":1,\"officeName \":\"Directorate \"}\]}\] "
}

DDT&G - Him Access Integration (Government Officials)

1.2 Master API\
1.2.1 Department Master

# Method URL

1.  GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName department (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "05 -08-2024 03:34:51",\
"status": "OK",

DDT&G - Him Access Integration (Government Officials)

"message": "SUCCESS",\
"data": " \[{\"departmentName \":\"Department of Digital Technologies
and Governance (DDT&G) \",\"departmentCode \":\"HPD0038
\",\"organisation \":{\"organisationName \":\"Govern ment of Himachal
Pradesh \",\"id\":1}, \"masterType \":\"LGD \",\"id\":1},{
\"departmentName \":\"AGRICULTURE \",\
"departmentCode \":\"HPD0013 \",\"organisation \":{\"organisationName
\":\"Government of Himachal Pradesh \",\"id\":1}, \"masterType \":null,
\"id\":11}\]"\
}

1.2.2 Designation Master

# Method URL

1.  GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName designation (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

DDT&G - Him Access Integration (Government Officials)

Decrypted Response

{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data": "\[{ \"designationName \":\"A P T S\",\"designationCode
\":\"A1\",\"id\":1},{ \"designationName \":\"Accountant \",\"desi
gnationCode \":\"0176 \",\"id\":2}\]"\
}

1.2.3 Designation Level /Class Master

# Method URL

1.  GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName designationLevel\
    (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}

(

DDT&G - Him Access Integration (Government Officials)

3.  404 {"error":" Invalid user details"}

Decrypted Response

{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data": \[{\"desigLevel \":\"Class 1 \",\"id\":10},{ \"desigLevel
\":\"Class 2\",\"id\":11},{ \"desigLevel \":\"Class 3 \",\"id\":15}\] "
}

1.2.4 Office Type Master

# Method URL

1.  GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName officeType (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
}

DDT&G - Him Access Integration (Government Officials)

2.  400 {"error": "Missing Parameters"}\
3.  404 {"error":" Invalid user details"}

Decrypted Response

{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data": \[{\"typeName \":\"Level 1\",\"isDdo \":false, \"id\":244,
\"department \":{\"departmentName \":\"Department of Digital
Technologies and Governance (DDT&G) \",\"departmentCode \":\"HPD0038
\",\"masterType \":\"LGD \",\"id\":1}, \"officeType \":n ull},{
\"typeName \":\"Level 2\",\"isDdo \":false, \"id\":245, \"department
\":{\"departmentName \":\"Department of Digital Technologies and
Governance (DDT&G) \",\"departmen tCode \":\"HPD0038 \",\"masterType
\":\"LGD \",\"id\":1}, \"officeType \":n ull},{ \"typeName \":\"Level
3\",\"isDdo \":false, \"id\":246, \"department \":{\"departmentName
\":\"Department of Digital Technologies and Governance (DDT&G)
\",\"departmentCode \":\"HPD0038 \",\"masterType \":\"LGD \",\"id\":1},
\"officeType \":n ull},{ \"typeName \":\"Level 1\",\"isDdo \":false,
\"id\":247, \"department \":{\"departmentName \":\"TREASURY, ACCOUNTS
AND LOTTERIES \",\"departmentCode \":\"HPD1051 \",\"masterType \":null,
\"id\":161}, \"officeType \": null}\] " }

1.2.5 Office Master

# Method URL

1.  GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

DDT&G - Him Access Integration (Government Officials)

1.  Y masterName Office (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response

{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data": "\[{\"lgdMunicipalCode \":248248, \"sanctionedPosts
\":1,\"officeName \":\"Secretariat \",\"lg dBlockCode \":null, \"address
\":\"Chotta Shimla \",\"lgdPanchayatCode \":null, \"revenueTehsilId
\":null, \"office \":null, \"revenuePatwarId \": null, \"pinCode
\":171004, \"id\":822, \"designation \":{\"designationName
\":\"Secretary \",\"designationCode \":\"0004 \",\"id\":1010},
\"lgdDistrictCode \":23, \"department \":{\"departm entName \":\"Departm
ent of Digital Technologies and Governance (DDT&G) \",\"departmentCode
\":\"HPD0038 \",\"masterType \":\"LGD \",\"id\":1}, \"lgdVillageCod
e\":null, \"lgdWardCode \":1296803, \"officeType \":{\"typeName
\":\"Level 1\",\"isDdo \":false, \"id\":244}},{ \"lgdMunicipalCode
\":null, \"sanctionedPosts \":48, \"officeName\
":\"Directorate \",\"lgdBlockCode \":189, \"address \":\"DDTG Mehli
\",\"lgdPanchayatCode \":298448, \"revenueTehsilId \":null, \"office
\":{\"lgdMunicipalCode \": 248248, \"sanctionedPosts \":1,\"officeName
\":\"Secretariat \",\"lgdBlockCode \":null, \"address \":\
"Chotta Shimla \",\"lgdPanchayatCode \":null, \"revenueTehsilId \":null,
\"revenuePatwarId \":null, \"pinCode \":171004, \"id\":822,
\"lgdDistrictCode \":23, \"lgdVillageCode \":null, \"lgdWardCode
\":1296803},\
"revenuePatwarId \":null, \"pinCode \":171009, \"id\":823, \"designation
\":{\"designationName \":\"\] " }

1.2.6 Service Status Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName serviceStatus (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05-08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

DDT&G - Him Access Integration (Government Officials)

Decrypted Response

{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data": "\[{\"id\":1,\"status \":\"Regular \",\"hasPmisCode \":null},{
\"id\":3,\"status \":\"Outsourced \",\"ha sPmisCode \":null},{
\"id\":8,\"status \":\"Adhoc \",\"hasPmisCode \":null},{ \"id\":11,
\"status \":\"Te mporary \",\"hasPmisCode \":null},{ \"id\":12, \"status
\":\"Permanent \",\"hasPm isCode \":null\]" }

1.2.7 Role Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName role (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

DDT&G - Him Access Integration (Government Officials)

Decrypted Response

{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":" \[{\"application \":{\"secretKey \":null,
\"id\":1,\"applicationUniqueCode \":\"Sarvatr a\",\"applicationName
\":\"SSO Admin \"},\"appRoleId \":1,\"roleName \":\"admin \",\"id\":2},{
\"application \":{\"secretKey \":null, \"id\":1,\"applicationUniqueCode
\":\"Sarvatra \",\"applicationName \":\"SSO Admin \"},\"appRoleId
\":1,\"roleName \":\"HOO/DDO \",\"id\":3}\] " }

1.2.8 LGD District Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName lgdDistrict (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
}

DDT&G - Him Access Integration (Government Officials)

2.  400 {"error": "Missing Parameters"}\
3.  404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":"\[{\"lgdCode \":15, \"revenueDistrictCode \":\"1301
\",\"districtNameH \":\"बिलासपुर\
",\"stateCode \":2,\"id\":1,\"districtNameE \":\"BILASPUR
\",\"revenueDistrictId \":585},{ \"lgdCode \":16, \"revenueDistrictCode
\":\"1302 \",\"districtNameH \":\"चम्बा \",\"stateCode
\":2,\"id\":2,\"dis trictNameE \":\"CHAMBA \",\"revenueDistrictId
\":171}\] " }

1.2.9 LGD Block Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName lgdBlock (encrypted)\
2.  Y parentId\
    lgdCode of district\
    (encrypted)

DDT&G - Him Access Integration (Government Officials)

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":"\[{\"lgdCode \":135, \"blockNameH \":null, \"LgdDistrict
\":{\"lgdCode \":15, \"revenue DistrictCode \":\"1301 \",\"districtNameH
\":\"बिलासपुर \",\"stateCode \":2,\"id\":1,\"districtNameE \":\"BILASPUR
\",\"revenueDistrictId \":585}, \"id\":1,\"blockNameE \":\"Bilaspur
Sadar \"},{\"lgdCode \":137, \"blockNameH \":null, \"LgdDistrict
\":{\"lgdCode \":15, \"revenueDistric tCode \":\"1301 \",\"districtNameH
\":\"बिलासपुर \",\"stateCode \":2,\"id\":1,\"districtNam eE\":\"BI
LASPUR \",\"revenueDistrictId \":585}, \"id\":2,\"blockNameE
\":\"Ghumarwin \"}\]" }

1.2.10 LGD Panchayat Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

DDT&G - Him Access Integration (Government Officials)

# Mandatory (Y/N) Parameters Value

1.  Y masterName lgdPanchayat (encrypted)\
2.  Y parentId\
    lgdCode of block (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response

{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":"\[{\"panchayatNameE \":\"Balh\
Bhalwana \",\"LgdBlock \":{\"lgdCode \":135, \"blockNameH \":null,
\"id\":1,\"blockNameE \":\"Bilas pur Sadar \"},\"lgdCode \":235970,
\"id\":2001, \"panchayatNameH \":null},{ \"panchayatNameE \":\"Ba mta
\",\"LgdBlock \":{\"lgdCode \":135, \"blockNameH \":null, \"id\":1,\"blo
ckNameE \":\"Bilaspur Sadar \"},\"lgdCode \":7526, \"id\":2002,
\"panchayatNameH \":null}\]" }

DDT&G - Him Access Integration (Government Officials)

1.2.11 LGD Village Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName lgdPanchayat (encrypted)\
2.  Y parentId\
    lgdCode of panchayat (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":"\[{\"villageNameH \":null, \"lgdCode \":19761, \"id\":11007,
\"villageNameE \":\"Badh yat (176) \",\"LgdPanchayat
\":{\"panchayatNameE \":\"Bamta \",\"lgdCode \":7526, \"id\":2002,
\"panc\]" }

1.2.12 LGD Municipal Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName lgdMunicipal (encrypted)\
2.  Y parentId\
    lgdCode of district\
    (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}

DDT&G - Him Access Integration (Government Officials)

3.  404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":"\[{\"lgdCode \":248211, \"LgdDistrict \":{\"lgdCode \":18,
\"revenueDistrictCode \":\" 1304 \",\"districtNameH \":\"कााँगड़ा
\",\"stateCode \":2,\"id\":4,\"districtNameE \":\"KANGRA \",\"r
evenueDistrictId \":172}, \"municipalName \":\"Dharamshala ( Municipal
Corporation )\",\"id\":1,\"bifurcationCode \":1},{ \"lgdCode \":248225,
\"LgdDistrict \":{\"lgdCode \":22, \"revenu eDistrictCode \":\"1308
\",\"districtNameH \":\"मंडी\",\"stateCode \":2,\"id\":8,\"districtNameE
\":\
"MANDI \",\"revenueDistrictId \":176}, \"municipalName \":\"Mandi (
Municipal Corporation )\",\"id\":2,\"bifurcationCode \":1}\]" }

1.2.13 LGD Ward Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName lgdWard(encrypted)\
2.  Y parentId\
    lgdCode of municipal\
    (encrypted)

DDT&G - Him Access Integration (Government Officials)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":"\[{\"wardName \":\"Forsythganj \",\"wardNo \":\"1\",\"lgdCode
\":\"11290 \",\"Lgd Municipal \":{\"lgdCode \":248211, \"municipalName
\":\"Dharamshala ( Municipal Corporation )\",\"id\":1,\"bifurcationCode
\":1}, \"id\":1},{ \"wardName \":\"Bhagsunag \",\"wardNo \":\"2\",\"l
gdCode \":\"11291 \",\"LgdMunicipal \":{\"lgdCode \":248211,
\"municipalName \":\"Dharamshala\
( Municipal Corporation ) \",\"id\":1,\"bifurcationCode \":1},
\"id\":2}\] " }

DDT&G - Him Access Integration (Government Officials)

1.2.14 Revenue District Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName revenueDistrict\
    (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":" \[{\"lgdCode \":15, \"revenueDistrictCode \":\"1301
\",\"districtNameH \":\"बिलासपुर\
",\"stateCode \":2,\"id\":1,\"districtNameE \":\"BILASPUR
\",\"revenueDistrictId \":585},{ \"lgdCode \":16, \"revenueDistrictCode
\":\"1302 \",\"districtNameH \":\"चम्बा \",\"stateCode
\":2,\"id\":2,\"dis trictNameE \":\"CHAMBA \",\"revenueDistrictId
\":171}\] "

DDT&G - Him Access Integration (Government Officials)

} 1.2.15 Revenue Tehsil Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName revenueTehsil (encrypted)\
2.  Y parentId\
    Id of revenue district (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":" \[{\"tehsilCode \":\"130201 \",\"LgdDistrict \":{\"lgdCode
\":16, \"revenueDistrictCod e\":\"1302 \",\"districtNameH \":\"चम्बा
\",\"stateCode \":2,\"id\":2,\"districtNameE \":\"CHAMBA \"\]" }

DDT&G - Him Access Integration (Government Officials)

1.2.16 Revenue Patwar Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName revenuePatwar (encrypted)\
2.  Y parentId\
    Id of revenue tehsil (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",\
"data":" \[{\"patwarCircleCode \":\"1\",\"revenueTehsil \":{\"tehsilCode
\":\"130202 \",\"id\" :68,\"tehsilName \":\"Churah \"},\"id\":1323,
\"patwarCircleName \":\"PANJHEI \"},{\"patwarCircle\]" }

DDT&G - Him Access Integration (Government Officials)

1.2.17 Revenue Village Master\
\# Method URL\
1. GET https://preproduction_url/ master-data

Following are the parameters that needs to be sent in the Request

# Mandatory (Y/N) Parameters Value

1.  Y masterName revenueVillage\
    (encrypted)\
2.  Y parentId\
    Id of revenue patwar (encrypted)

Response received

# Status

Code Response\
1. 200 { "timestamp": "05 -08-2024 03:26:52",\
"status": "OK",\
"message": "SUCCESS",\
"data": "
U2FsdGVkX1/1VeOpBSicdWElXwQIx4M5gqsxA3MxEUXBfZrlBpx/f5GrbRiHrXjH8JMFN
/P/2NikPqioDZGLX/dFyDa98ziMUH6/kE0DHEmLwrc7UYU/BF4C4+KAjo9"\
} 2. 400 {"error": "Missing Parameters"}\
3. 404 {"error":" Invalid user details"}

Decrypted Response\
{ "timestamp": "11 -11-2024 02:36:27",\
"status": "OK",\
"message": "SUCCESS",

DDT&G - Him Access Integration (Government Officials)

"data":" \[{\"id\":1564, \"revenuePatwar \":{\"patwarCircleCode
\":\"2\",\"id\":1324, \"patw arCircleName \":\"KALOG \"},\"villageName
\":\"SUDALA \",\"villageCode \":\"601 \"},{\"id\":1639,\
"revenuePatwar \":{\"patwarCircleCode \":\"2\",\"id\":1324,
\"patwarCircleName \":\"KALOG \"},\" villageName \":\"R.F.CHILI
\",\"villageCode \":\"1801 \"}\]" }

DDT&G - Him Access Integration (Government Officials)

1.3 Encryption / Decryption Algorithm\
1.3.1 Java Sample\
private final String secretKey = "will be shared separately";

public String encrypt(String plainText) throws Exception {\
byte\[\] plainData = plainText.getBytes(StandardCharsets. UTF_8);

    byte[] saltData = new byte [8]; 
    SecureRandom secureRandom = new SecureRandom();  
    secureRan dom.nextBytes(saltData);  
    MessageDigest md5 = MessageDigest. getInstance ("MD5"); 
    final byte [][] keyAndIV = GenerateKeyAndIV (32, 16, 1, saltData, 

secretKey .getBytes(StandardCharsets. UTF_8), md5);\
SecretKeySpec key = new SecretKeySpec(keyAndIV\[ 0\], "AES");
IvParameterSpec iv = new IvParameterSpec(keyAndIV\[ 1\]);

    Cipher aesCBC = Cipher. getInstance ("AES/CBC/PKCS5Padding" ); 
    aesCBC.init(Cipher. ENCRYPT_MODE , key, iv);  
    byte[] encryptedData = aesCBC.doFinal(plainData);  
    byte[] cipherData  = new byte [8 + saltData. length + encryptedData. length]; 
    System. arraycopy ("Salted__" .getBytes(StandardCharsets. UTF_8), 0, 

cipherData, 0, 8); System. arraycopy (saltData, 0, cipherData, 8,
saltData. length); System. arraycopy (encryptedData, 0, cipherData, 16,
encryptedData. length);

    // Encode to Base64  
    return Base64. getEncoder ().encodeToString(cipherData);  

}

public String decrypt(String cipherText) throws Exception {

    byte[] cipherData = Base64. getDecoder ().decode(cipherText);  
    byte[] saltData = Arrays. copyOfRange (cipherData, 8, 16); 

    MessageDigest md5 = MessageDigest. getInstance ("MD5"); 
    final byte [][] keyAndIV = GenerateKeyAndIV (32, 16, 1, saltData, 

secretKey .getBytes(StandardCharsets. UTF_8), md5);\
SecretKeySpec key = new SecretKeySpec(keyAndIV\[ 0\], "AES");
IvParameterSpec iv = new IvParameterSpec(keyAndIV\[ 1\]);

    byte[] encrypted = Arrays. copyOfRange (cipherData, 16, cipherData. length); 
    Cipher aesCBC = Cipher. getInstance ("AES/CBC/PKCS5Padding" ); 
    aesCBC.init(Cipher. DECRYPT_MODE , key, iv);  
    byte[] decryptedData = aesCBC.doFinal(encrypted);  
    String decryptedText = new String(decryptedData, StandardCharsets. UTF_8); 
    return decryptedText;  

}

DDT&G - Him Access Integration (Government Officials)

public static byte \[\]\[\] GenerateKeyAndIV (int keyLength, int
ivLength, int iterations, byte\[\] salt, byte\[\] password,
MessageDigest md) throws Exception {

    int digestLength = md.getDigestLength();  
    int requiredLength = (keyLength + ivLength + digestLength - 1) / 

digestLength \* digestLength;\
byte\[\] generatedData = new byte \[requiredLength\];\
int generatedLength = 0;

    try { 
        md.reset();  

        // Repeat process until sufficient data has been generated  
        while (generatedLength < keyLength + ivLength) {  

            // Digest data ( last digest if available, password data, salt if 

available)\
if (generatedLength \> 0) md.update(generatedData, generatedLength -
digestLength, digestLength);\
md.update(password);\
if (salt != null) md.update(salt, 0, 8); md.digest(generatedData,
generatedLength, digestLength);

            // additional rounds  
            for (int i = 1; i < iterations; i++) {  
                md.update(generatedData, generatedLength, digestLength) ; 
                md.digest(generatedData, generatedLength, digestLength);  
            } 

            generatedLength += digestLength;  
        } 

        // Copy key and IV into separate byte arrays  
        byte[][] result = new byte [2][]; 
        result[0] = Arrays. copyOfRange (generatedData, 0, keyLength);  
        if (ivLength > 0) 
            result[1] = Arrays. copyOfRange (generatedData, keyLength, 

keyLength + ivLength);

        return result; 

    } catch (DigestException e) {  
        throw new RuntimeE xception(e);  

    } finally { 
        // Clean out temporary data  
        Arrays. fill(generatedData, ( byte)0); 
    } 

}

DDT&G - Him Access Integration (Government Officials)

1.3.2 .NET Sample\
private readonly string secretKey = "will be provided later";

        public string EncryptResponse(object obj)  
        { 
            string jsonString = JsonSerializer.Serialize(obj);  
            return Encrypt(jsonString);  
        } 

        public string Decrypt(string cipherText)  
        { 
            byte[] cipherData = Convert.FromBase64String(cipherText);  
            byte[] saltData = cipherData.Skip(8).Take(8).ToArray();  

            using (var md5 = MD5.Create())  
            { 
                var keyAndIV = GenerateKeyAndIV(32, 16, 1, saltData, 

Encoding.UTF8.GetBytes(secretKey), md5);\
using (var aes = Aes.Create())\
{ aes.Key = keyAndIV\[0\];\
aes.IV = keyAndIV\[1\];\
aes.Mode = CipherMode.CBC;\
aes.Padding = PaddingMode.PKCS7;

                    using (var decryptor = aes.CreateDecryptor())  
                    { 
                        byte[] encryptedData = cipherData.Skip(16).ToArray();  
                        byte[] decryptedData = 

decryptor.TransformFinalBlock(encryptedData, 0, encryptedData.Length);\
return Encoding.UTF8.GetString(decryptedDa ta); } } } }

        public string Encrypt(string plainText)  
        { 
            byte[] plainData = Encoding.UTF8.GetBytes(plainText);  
            byte[] saltData = new byte[8];  
            using (var rng = new RNGCryptoServiceProvider())  
            { 
                rng.GetBytes(saltData);  
            } 

            using (var md5 = MD5.Create())  
            { 
                var keyAndIV = GenerateKeyAndIV(32, 16, 1, saltData, 

Encoding.UTF8.GetBytes(secretKey), md5);\
using (var aes = Aes.Create())\
{ aes.Key = keyAndIV\[0\];

DDT&G - Him Access Integration (Government Officials)

                    aes.IV = keyAndIV[ 1]; 
                    aes.Mode = CipherMode.CBC;  
                    aes.Padding = PaddingMode.PKCS7;  

                    using (var encryptor = aes.CreateEncryptor())  
                    { 
                        byte[] encryptedData = 

encryptor.Transf ormFinalBlock(plainData, 0, plainData.Length);\
byte\[\] cipherData = new byte\[8 + saltData.Length +
encryptedData.Length\];\
Array.Copy(Encoding.UTF8.GetBytes("Salted\_\_"), 0, cipherData, 0, 8);\
Array.Copy(saltData, 0, cipherData, 8, saltData.Length);\
Array.Copy(encryptedData, 0, cipherData, 16, encryptedData.Length);\
return Convert.ToBase64String(cipherData);\
} } } }

        private static byte[][] GenerateKeyAndIV(int keyLength, int ivLength, 

int iterations, byte\[\] salt, byte\[\] password, MD5 md5)\
{ int digestLength = md5.HashSize / 8;\
int requiredLength = ((keyLength + ivLength + digestLength - 1) /
digestLength) \* digestLength;\
byte\[\] generatedData = new byte\[requiredLength\];\
int generatedLength = 0;

            byte[] input = null;  
            using (var ms = new MemoryStream())  
            { 
                while (generatedLength < keyLength + ivLength)  
                { 
                    if (generatedLength > 0)  
                        ms.Write(generatedData, generatedLength - 

digestLength, dige stLength);\
ms.Write(password, 0, password.Length);\
if (salt != null)\
ms.Write(salt, 0, 8);\
input = ms.ToArray();\
ms.SetLength(0);

                    byte[] hash = md5.ComputeHash(input);  
                    for (int i = 1; i < iterations; i++)  
                    { 
                        hash = md5.ComputeHash(hash);  
                    } 

                    Array.Copy(hash, 0, generatedData, generate dLength, 

hash.Length);\
generatedLength += hash.Length;

DDT&G - Him Access Integration (Government Officials)

                } 
            } 

            byte[][] result = new byte[2][];  
            result[0] = new byte[keyLength];  
            Array.Copy(generatedData, 0, result[0], 0, keyLength);  

            if (ivLength > 0)  
            { 
                result[1] = new byte[ivLength];  
                Array.Copy(generatedData, keyLength, result[1], 0, ivLength);  
            } 

            return result;  
        } 

1.3.3 PHP Sample\
function decrypt(\$cipherText, \$secretKey)\
{ $cipherData = base64_decode($cipherText);\
$saltData = substr($cipherData, 8, 8); // Extract salt from the input

    $keyAndIV = generateKeyAndIV(32, 16, 1, $saltData, $s ecretKey);  
    $key = substr($keyAndIV, 0, 32);  
    $iv = substr($keyAndIV, 32, 16);  

    $encryptedData = substr($cipherData, 16); // Extract encrypted data  
    $decryptedData = openssl_decrypt($encryptedData, 'aes -256-cbc', $key, 

OPENSSL_RAW_DATA, \$iv);

    return $decryptedData;  

}

function encrypt(\$plainText, \$secretKey)\
{ \$plainData = \$plainText;

    $saltData = openssl_random_pseudo_bytes(8);  

    $keyAndIV = generateKeyAndIV(32, 16, 1, $saltData, $secretKey);  
    $key = substr($keyAndIV, 0, 32);  
    $iv = substr($keyAndIV, 32, 16);  

    $encryptedData = openssl_encrypt($plainData, 'aes -256-cbc', $key, 

OPENSSL_RAW_DATA, \$iv);

    $cipherData = 'Salted__' . $saltData . $encryptedData;  

    // Encode to Base64  
    return base64_encode($cipherData);  

}

DDT&G - Him Access Integration (Government Officials)

function generateKeyAndIV(\$keyLength, \$ivLength, \$iterations, \$salt,
\$password)\
{ \$data = '';\
\$length = \$keyLength + \$ivLength;\
$prev = '';  while (strlen($data) \< \$length) {\
$prev = md5($prev . \$password . $salt, true);  for ($i = 1; \$i \<
\$iterations; \$i++) {\
$prev = md5($prev, true);\
} \$data .= \$prev;\
}

    return $data;  

}
